{"ast":null,"code":"var _jsxFileName = \"/Users/prathamgandhi/Desktop/haci_test/haci/haci-frontend/src/components/CodeEditor.js\",\n  _s = $RefreshSig$();\nimport '../styles/CodeEditor.css';\nimport React, { useRef, useEffect } from 'react';\nimport AceEditor from 'react-ace';\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'ace-builds/src-noconflict/theme-monokai';\nimport ace from 'ace-builds/src-noconflict/ace';\nimport { useAppState } from './AppStateContext';\nimport '../styles/CodeEditor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CodeEditor({\n  focused\n}) {\n  _s();\n  console.log(\"Rendering CodeEditor, focused:\", focused); // Debugging statement\n\n  const {\n    code,\n    setCode\n  } = useAppState();\n  const aceEditorRef = useRef();\n  const markers = useRef({});\n  const controlMotor = async (finger, action) => {\n    try {\n      await fetch('http://localhost:3001/control-motor', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          motor: finger,\n          action\n        })\n      });\n    } catch (error) {\n      console.error('Error sending motor command:', error);\n    }\n  };\n  useEffect(() => {\n    var _aceEditorRef$current;\n    const editor = (_aceEditorRef$current = aceEditorRef.current) === null || _aceEditorRef$current === void 0 ? void 0 : _aceEditorRef$current.editor;\n    //let markers = []; // Array to hold marker IDs\n\n    if (editor && focused) {\n      console.log(\"Setting up Ace Editor\");\n      editor.focus();\n\n      // Disable Ace Editor's default commands (shortcuts)\n      editor.commands.bindKeys({});\n      editor.commands.bindKey(\"Ctrl-j\", null);\n      editor.commands.bindKey(\"Ctrl-k\", null);\n      editor.commands.bindKey(\"Ctrl-l\", null);\n      editor.commands.bindKey(\"Ctrl-g\", null);\n      editor.commands.bindKey(\"Ctrl-b\", null);\n      editor.commands.bindKey(\"Ctrl-v\", null);\n\n      // Mapping of code symbols to their spoken equivalents\n      const symbolMap = {\n        ';': 'semicolon',\n        ',': 'comma',\n        '{': 'open brace',\n        '}': 'close brace',\n        '(': 'open parenthesis',\n        ')': 'close parenthesis',\n        '[': 'open bracket',\n        ']': 'close bracket',\n        '=': 'equals',\n        '==': 'double equals',\n        '===': 'triple equals',\n        '+': 'plus',\n        '-': 'minus',\n        '*': 'asterisk',\n        '/': 'forward slash',\n        '<': 'less than',\n        '>': 'greater than',\n        '!': 'exclamation mark',\n        '!=': 'not equals',\n        '&&': 'and',\n        //'||': 'or',\n        //'/*': 'start block comment',\n        '*/': 'end block comment',\n        '//': 'double slash comment',\n        '%': 'percent',\n        '^': 'caret',\n        '&': 'ampersand',\n        '|': 'pipe',\n        '~': 'tilde',\n        '`': 'backtick',\n        ':': 'colon',\n        '?': 'question mark',\n        '=>': 'arrow function',\n        '+=': 'plus equals',\n        '-=': 'minus equals',\n        '*=': 'times equals',\n        '/=': 'divide equals',\n        '++': 'increment',\n        '--': 'decrement',\n        '<<': 'left shift',\n        '>>': 'right shift',\n        '>>>': 'unsigned right shift',\n        //'===': 'strict equals',\n        '!==': 'strict not equals',\n        '<<=': 'left shift equals',\n        '>>=': 'right shift equals',\n        '>>>=': 'unsigned right shift equals',\n        '&=': 'and equals',\n        '\\'': 'single quote',\n        '\"': 'double quote',\n        '\\\\': 'backslash',\n        '`': 'backtick',\n        '$': 'dollar sign'\n        // Add more symbols as needed\n        // may replace some characters with sounds\n      };\n\n      // Function to convert code line to spoken text\n      // Function to convert code line to spoken text\n      // Function to convert code line to spoken text\n      const codeToSpeech = line => {\n        // Trim the line to remove leading and trailing spaces\n        const trimmedLine = line.trim();\n        console.log(\"trimmedLine: \", trimmedLine);\n\n        // Split the trimmed line by space to process each word/symbol separately\n        const words = trimmedLine.split(' ');\n        console.log(\"words: \", words);\n        const spokenWords = words.map(word => {\n          // Check if the entire word is a symbol and replace it with its spoken equivalent\n          if (symbolMap[word]) {\n            return symbolMap[word];\n          }\n          // If the word contains symbols, replace each symbol within the word\n          let spokenWord = word;\n          Object.entries(symbolMap).forEach(([symbol, replacement]) => {\n            // Use a regex to replace symbols within the word, ensuring they're not part of a larger word\n            const regex = new RegExp(`\\\\${symbol}`, 'g');\n            spokenWord = spokenWord.replace(regex, ` ${replacement} `);\n          });\n          return spokenWord;\n        });\n        console.log(\"spokenWords joined: \", spokenWords.join(' '));\n        return spokenWords.join(' ');\n      };\n\n      // Function to toggle speech granularity\n      const toggleGranularity = () => {\n        console.log(\"toggling granularity\");\n        setGranularity(prevGranularity => prevGranularity === 'token' ? 'character' : 'token');\n      };\n\n      // Add a command for toggling speech granularity\n      editor.commands.addCommand({\n        name: 'toggleGranularity',\n        bindKey: {\n          win: 'Ctrl-B',\n          mac: 'Ctrl-B'\n        },\n        exec: toggleGranularity\n      });\n\n      // Function to read out the text using SpeechSynthesis with pauses between lines\n      const speakText = text => {\n        const lines = text.split('\\n'); // Split the text into lines\n        lines.forEach((line, index) => {\n          let speechText;\n          // Check the currently set granularity\n          console.log(granularity);\n          if (granularity === 'token') {\n            speechText = codeToSpeech(line); // Use codeToSpeech for token granularity\n          } else {\n            line = line.trim();\n            // For character granularity, read each character including spaces\n            speechText = [...line].map(char => symbolMap[char] || char).join(', ');\n          }\n          speechText += index < lines.length - 1 ? \", next line, \" : \"\"; // Add \", next line, \" between lines\n          console.log(speechText);\n          const speech = new SpeechSynthesisUtterance(speechText);\n          window.speechSynthesis.speak(speech);\n        });\n      };\n\n      // Add command to capture Ctrl+G\n      editor.commands.addCommand({\n        name: 'readCurrentLine',\n        bindKey: {\n          win: 'Ctrl-G',\n          mac: 'Command-G'\n        },\n        exec: editor => {\n          const cursorPosition = editor.getCursorPosition();\n          const currentLine = editor.session.getDocument().getLine(cursorPosition.row);\n          speakText(currentLine); // Read out the current line\n        }\n      });\n\n      // Dynamic command to capture Ctrl+Number\n      for (let i = 0; i <= 9; i++) {\n        // Assuming 0-9 for X\n        editor.commands.addCommand({\n          name: `readLast${i}Lines`,\n          bindKey: {\n            win: `Ctrl-${i}`,\n            mac: `Ctrl-${i}`\n          },\n          exec: editor => {\n            const cursorPosition = editor.getCursorPosition();\n            const startRow = Math.max(cursorPosition.row - i + 1, 0); // Ensure startRow is not negative\n            const lines = [];\n            for (let row = startRow; row <= cursorPosition.row; row++) {\n              lines.push(editor.session.getDocument().getLine(row));\n            }\n            speakText(lines.join('\\n')); // Read out the last X lines\n          }\n        });\n      }\n\n      // Ctrl + , = Drop marker 1\n      editor.commands.addCommand({\n        name: 'dropMarker1',\n        bindKey: {\n          win: 'Ctrl-,',\n          mac: 'Ctrl-,'\n        },\n        exec: editor => {\n          markers.current['marker1'] = editor.getCursorPosition();\n          console.log(\"m1 dropped at : \" + editor.getCursorPosition());\n        }\n      });\n\n      // Option + , = Jump to marker 1\n      editor.commands.addCommand({\n        name: 'jumpToMarker1',\n        bindKey: {\n          win: 'Alt-,',\n          mac: 'Option-,'\n        },\n        exec: editor => {\n          const position = markers.current['marker1'];\n          if (position) {\n            editor.moveCursorToPosition(position);\n            console.log(\"going to m1 at : \" + position);\n          }\n        }\n      });\n\n      // Ctrl + . = Drop marker 2\n      editor.commands.addCommand({\n        name: 'dropMarker2',\n        bindKey: {\n          win: 'Ctrl-.',\n          mac: 'Ctrl-.'\n        },\n        exec: editor => {\n          markers.current['marker2'] = editor.getCursorPosition();\n          console.log(\"m2 dropped at : \" + editor.getCursorPosition());\n        }\n      });\n\n      // Option + , = Jump to marker 2\n      editor.commands.addCommand({\n        name: 'jumpToMarker2',\n        bindKey: {\n          win: 'Alt-.',\n          mac: 'Option-.'\n        },\n        exec: editor => {\n          const position = markers.current['marker2'];\n          if (position) {\n            editor.moveCursorToPosition(position);\n            console.log(\"going to m2 at : \" + position);\n          }\n        }\n      });\n\n      // Command + 1: Move to start\n      editor.commands.addCommand({\n        name: 'moveToStart',\n        bindKey: {\n          win: 'Ctrl-1',\n          mac: 'Option-1'\n        },\n        exec: editor => {\n          editor.gotoLine(1, 0, false);\n        }\n      });\n\n      // Command + 2: Move to middle\n      editor.commands.addCommand({\n        name: 'moveToMiddle',\n        bindKey: {\n          win: 'Ctrl-2',\n          mac: 'Option-2'\n        },\n        exec: editor => {\n          const middleLine = Math.floor(editor.session.getLength() / 2);\n          editor.gotoLine(middleLine, 0, false);\n        }\n      });\n\n      // Command + 3: Move to end\n      editor.commands.addCommand({\n        name: 'moveToEnd',\n        bindKey: {\n          win: 'Ctrl-3',\n          mac: 'Option-3'\n        },\n        exec: editor => {\n          const lastLine = editor.session.getLength();\n          editor.gotoLine(lastLine, 0, false);\n        }\n      });\n\n      // Add command to capture Ctrl+G\n      editor.commands.addCommand({\n        name: 'readCurrentLine',\n        bindKey: {\n          win: 'Ctrl-G',\n          mac: 'Ctrl-G'\n        },\n        exec: editor => {\n          console.log(\"speaking current line\");\n          const cursorPosition = editor.getCursorPosition();\n          const currentLine = editor.session.getDocument().getLine(cursorPosition.row);\n          speakText(currentLine); // Read out the current line\n        }\n      });\n\n      // Command to read out the current function name\n      editor.commands.addCommand({\n        name: 'readCurrentFunctionName',\n        bindKey: {\n          win: 'Ctrl-V',\n          mac: 'Ctrl-V'\n        },\n        exec: editor => {\n          console.log(\"speaking current function\");\n          const cursorPosition = editor.getCursorPosition();\n          const codeLines = editor.session.getDocument().getAllLines();\n\n          // Simplified regex to match function declarations\n          const functionRegex = /function\\s+([a-zA-Z0-9_]+)\\s*\\(/;\n          let currentFunctionName = '';\n\n          // Loop through the lines up to the cursor's current line\n          for (let i = 0; i <= cursorPosition.row; i++) {\n            const match = functionRegex.exec(codeLines[i]);\n            if (match) {\n              currentFunctionName = match[1]; // Capture the function name\n            }\n          }\n          if (currentFunctionName) {\n            const speech = new SpeechSynthesisUtterance(`You are in the function ${currentFunctionName}`);\n            window.speechSynthesis.speak(speech);\n          } else {\n            const speech = new SpeechSynthesisUtterance(\"You are not inside a function\");\n            window.speechSynthesis.speak(speech);\n          }\n        }\n      });\n\n      // Function to toggle character reading\n      const toggleCharacterReading = () => {\n        setIsReadingCharacters(!isReadingCharacters);\n      };\n\n      // Command to toggle character reading\n      editor.commands.addCommand({\n        name: 'toggleCharacterReading',\n        bindKey: {\n          win: 'Ctrl-Shift-S',\n          mac: 'Ctrl-Shift-S'\n        },\n        exec: toggleCharacterReading\n      });\n\n      // Add command to execute code with a keyboard shortcut, e.g., Ctrl+Enter\n      editor.commands.addCommand({\n        name: 'executeCode',\n        bindKey: {\n          win: 'Ctrl-Enter',\n          mac: 'Ctrl-Enter'\n        },\n        exec: () => onExecuteCode()\n      });\n      const handleChange = e => {\n        if (isReadingCharacters && e.action === 'insert' && e.lines.length === 1 && e.lines[0].length === 1) {\n          speakCharacter(e.lines[0]);\n        }\n      };\n\n      // Function to speak a character\n      const speakCharacter = char => {\n        const speech = new SpeechSynthesisUtterance(char);\n        window.speechSynthesis.speak(speech);\n      };\n\n      // Add the event listener\n      editor.getSession().on('change', handleChange);\n\n      // Function to get indentation level of a line\n      const getIndentationLevel = line => {\n        const match = line.match(/^\\s*/);\n        return match ? match[0].length : 0;\n      };\n      let previousLineIndentation = 0;\n\n      // Event listener for cursor position change\n      editor.getSession().selection.on('changeCursor', () => {\n        const cursorPosition = editor.getCursorPosition();\n        const currentLine = editor.session.getLine(cursorPosition.row);\n        const currentLineIndentation = getIndentationLevel(currentLine);\n        if (currentLineIndentation > previousLineIndentation) {\n          // Indentation increased, tap fourth finger\n          controlMotor('fourth', 'tap');\n        } else if (currentLineIndentation < previousLineIndentation && cursorPosition.row !== 0) {\n          // Indentation decreased, tap right index finger\n          controlMotor('index', 'tap');\n        }\n        previousLineIndentation = currentLineIndentation;\n      });\n\n      // Cleanup function to remove the event listener\n      return () => {\n        editor.getSession().off('change', handleChange);\n      };\n    }\n  }, [focused, granularity, setGranularity, isReadingCharacters, onExecuteCode]);\n  function handleCodeChange(newCode) {\n    setCode(newCode); // Updates the state with the new code\n  }\n  function moveToLine(lineNumber) {\n    if (aceEditorRef.current) {\n      aceEditorRef.current.editor.gotoLine(lineNumber, 0, true);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      flex: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(AceEditor, {\n      ref: aceEditorRef,\n      mode: \"javascript\",\n      theme: \"monokai\",\n      name: \"UNIQUE_ID_OF_DIV\",\n      value: code // Ensure the editor displays the current state\n      ,\n      onChange: handleCodeChange // Set up the onChange handler\n      ,\n      editorProps: {\n        $blockScrolling: true\n      },\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 419,\n    columnNumber: 5\n  }, this);\n}\n_s(CodeEditor, \"HwolXiou2/RqVPayldLadZrtNEI=\", false, function () {\n  return [useAppState];\n});\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useRef","useEffect","AceEditor","ace","useAppState","jsxDEV","_jsxDEV","CodeEditor","focused","_s","console","log","code","setCode","aceEditorRef","markers","controlMotor","finger","action","fetch","method","headers","body","JSON","stringify","motor","error","_aceEditorRef$current","editor","current","focus","commands","bindKeys","bindKey","symbolMap","codeToSpeech","line","trimmedLine","trim","words","split","spokenWords","map","word","spokenWord","Object","entries","forEach","symbol","replacement","regex","RegExp","replace","join","toggleGranularity","setGranularity","prevGranularity","addCommand","name","win","mac","exec","speakText","text","lines","index","speechText","granularity","char","length","speech","SpeechSynthesisUtterance","window","speechSynthesis","speak","cursorPosition","getCursorPosition","currentLine","session","getDocument","getLine","row","i","startRow","Math","max","push","position","moveCursorToPosition","gotoLine","middleLine","floor","getLength","lastLine","codeLines","getAllLines","functionRegex","currentFunctionName","match","toggleCharacterReading","setIsReadingCharacters","isReadingCharacters","onExecuteCode","handleChange","e","speakCharacter","getSession","on","getIndentationLevel","previousLineIndentation","selection","currentLineIndentation","off","handleCodeChange","newCode","moveToLine","lineNumber","style","flex","children","ref","mode","theme","value","onChange","editorProps","$blockScrolling","width","height","fileName","_jsxFileName","columnNumber","_c","$RefreshReg$"],"sources":["/Users/prathamgandhi/Desktop/haci_test/haci/haci-frontend/src/components/CodeEditor.js"],"sourcesContent":["import '../styles/CodeEditor.css';\nimport React, { useRef, useEffect } from 'react';\nimport AceEditor from 'react-ace';\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'ace-builds/src-noconflict/theme-monokai';\nimport ace from 'ace-builds/src-noconflict/ace';\nimport { useAppState } from './AppStateContext';\nimport '../styles/CodeEditor.css';\n\nfunction CodeEditor({ focused }) {\n\n  console.log(\"Rendering CodeEditor, focused:\", focused); // Debugging statement\n\n  const { code, setCode } = useAppState();\n  const aceEditorRef = useRef();\n  const markers = useRef({});\n\n  const controlMotor = async (finger, action) => {\n    try {\n      await fetch('http://localhost:3001/control-motor', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ motor: finger, action }),\n      });\n    } catch (error) {\n      console.error('Error sending motor command:', error);\n    }\n  };\n\n\n  useEffect(() => {\n    const editor = aceEditorRef.current?.editor;\n    //let markers = []; // Array to hold marker IDs\n\n    if (editor && focused) {\n\n      console.log(\"Setting up Ace Editor\")\n\n      editor.focus();\n\n      // Disable Ace Editor's default commands (shortcuts)\n      editor.commands.bindKeys({});\n      editor.commands.bindKey(\"Ctrl-j\", null);\n      editor.commands.bindKey(\"Ctrl-k\", null);\n      editor.commands.bindKey(\"Ctrl-l\", null);\n      editor.commands.bindKey(\"Ctrl-g\", null);\n      editor.commands.bindKey(\"Ctrl-b\", null);\n      editor.commands.bindKey(\"Ctrl-v\", null);\n\n      // Mapping of code symbols to their spoken equivalents\n      const symbolMap = {\n        ';': 'semicolon',\n        ',': 'comma',\n        '{': 'open brace',\n        '}': 'close brace',\n        '(': 'open parenthesis',\n        ')': 'close parenthesis',\n        '[': 'open bracket',\n        ']': 'close bracket',\n        '=': 'equals',\n        '==': 'double equals',\n        '===': 'triple equals',\n        '+': 'plus',\n        '-': 'minus',\n        '*': 'asterisk',\n        '/': 'forward slash',\n        '<': 'less than',\n        '>': 'greater than',\n        '!': 'exclamation mark',\n        '!=': 'not equals',\n        '&&': 'and',\n        //'||': 'or',\n        //'/*': 'start block comment',\n        '*/': 'end block comment',\n        '//': 'double slash comment',\n        '%': 'percent',\n        '^': 'caret',\n        '&': 'ampersand',\n        '|': 'pipe',\n        '~': 'tilde',\n        '`': 'backtick',\n        ':': 'colon',\n        '?': 'question mark',\n        '=>': 'arrow function',\n        '+=': 'plus equals',\n        '-=': 'minus equals',\n        '*=': 'times equals',\n        '/=': 'divide equals',\n        '++': 'increment',\n        '--': 'decrement',\n        '<<': 'left shift',\n        '>>': 'right shift',\n        '>>>': 'unsigned right shift',\n        //'===': 'strict equals',\n        '!==': 'strict not equals',\n        '<<=': 'left shift equals',\n        '>>=': 'right shift equals',\n        '>>>=': 'unsigned right shift equals',\n        '&=': 'and equals',\n        '\\'': 'single quote',\n        '\"': 'double quote',\n        '\\\\': 'backslash',\n        '`': 'backtick',\n        '$': 'dollar sign',\n        // Add more symbols as needed\n        // may replace some characters with sounds\n      };\n\n      // Function to convert code line to spoken text\n      // Function to convert code line to spoken text\n      // Function to convert code line to spoken text\n      const codeToSpeech = (line) => {\n        // Trim the line to remove leading and trailing spaces\n        const trimmedLine = line.trim();\n\n        console.log(\"trimmedLine: \", trimmedLine)\n\n        // Split the trimmed line by space to process each word/symbol separately\n        const words = trimmedLine.split(' ');\n\n        console.log(\"words: \", words)\n\n        const spokenWords = words.map(word => {\n          // Check if the entire word is a symbol and replace it with its spoken equivalent\n          if (symbolMap[word]) {\n            return symbolMap[word];\n          }\n          // If the word contains symbols, replace each symbol within the word\n          let spokenWord = word;\n          Object.entries(symbolMap).forEach(([symbol, replacement]) => {\n            // Use a regex to replace symbols within the word, ensuring they're not part of a larger word\n            const regex = new RegExp(`\\\\${symbol}`, 'g');\n            spokenWord = spokenWord.replace(regex, ` ${replacement} `);\n          });\n          return spokenWord;\n        });\n\n        console.log(\"spokenWords joined: \", spokenWords.join(' '))\n\n        return spokenWords.join(' ');\n      };\n\n\n\n      // Function to toggle speech granularity\n      const toggleGranularity = () => {\n        console.log(\"toggling granularity\")\n        setGranularity(prevGranularity => prevGranularity === 'token' ? 'character' : 'token');\n      };\n\n      // Add a command for toggling speech granularity\n      editor.commands.addCommand({\n        name: 'toggleGranularity',\n        bindKey: { win: 'Ctrl-B', mac: 'Ctrl-B' },\n        exec: toggleGranularity\n      });\n\n      // Function to read out the text using SpeechSynthesis with pauses between lines\n      const speakText = (text) => {\n        const lines = text.split('\\n'); // Split the text into lines\n        lines.forEach((line, index) => {\n          let speechText;\n          // Check the currently set granularity\n          console.log(granularity)\n          if (granularity === 'token') {\n            speechText = codeToSpeech(line); // Use codeToSpeech for token granularity\n          } else {\n            line = line.trim();\n            // For character granularity, read each character including spaces\n            speechText = [...line].map(char => symbolMap[char] || char).join(', ');\n          }\n          speechText += (index < lines.length - 1 ? \", next line, \" : \"\"); // Add \", next line, \" between lines\n          console.log(speechText)\n          const speech = new SpeechSynthesisUtterance(speechText);\n          window.speechSynthesis.speak(speech);\n        });\n      };\n\n\n\n\n      // Add command to capture Ctrl+G\n      editor.commands.addCommand({\n        name: 'readCurrentLine',\n        bindKey: { win: 'Ctrl-G', mac: 'Command-G' },\n        exec: (editor) => {\n          const cursorPosition = editor.getCursorPosition();\n          const currentLine = editor.session.getDocument().getLine(cursorPosition.row);\n          speakText(currentLine); // Read out the current line\n        }\n      });\n\n      // Dynamic command to capture Ctrl+Number\n      for (let i = 0; i <= 9; i++) { // Assuming 0-9 for X\n        editor.commands.addCommand({\n          name: `readLast${i}Lines`,\n          bindKey: { win: `Ctrl-${i}`, mac: `Ctrl-${i}` },\n          exec: (editor) => {\n            const cursorPosition = editor.getCursorPosition();\n            const startRow = Math.max(cursorPosition.row - i + 1, 0); // Ensure startRow is not negative\n            const lines = [];\n            for (let row = startRow; row <= cursorPosition.row; row++) {\n              lines.push(editor.session.getDocument().getLine(row));\n            }\n            speakText(lines.join('\\n')); // Read out the last X lines\n          }\n        });\n      }\n\n\n\n\n      // Ctrl + , = Drop marker 1\n      editor.commands.addCommand({\n        name: 'dropMarker1',\n        bindKey: { win: 'Ctrl-,', mac: 'Ctrl-,' },\n        exec: (editor) => {\n          markers.current['marker1'] = editor.getCursorPosition();\n          console.log(\"m1 dropped at : \" + editor.getCursorPosition())\n        }\n      });\n\n      // Option + , = Jump to marker 1\n      editor.commands.addCommand({\n        name: 'jumpToMarker1',\n        bindKey: { win: 'Alt-,', mac: 'Option-,' },\n        exec: (editor) => {\n          const position = markers.current['marker1'];\n          if (position) {\n            editor.moveCursorToPosition(position);\n            console.log(\"going to m1 at : \" + position)\n          }\n        }\n      });\n\n      // Ctrl + . = Drop marker 2\n      editor.commands.addCommand({\n        name: 'dropMarker2',\n        bindKey: { win: 'Ctrl-.', mac: 'Ctrl-.' },\n        exec: (editor) => {\n          markers.current['marker2'] = editor.getCursorPosition();\n          console.log(\"m2 dropped at : \" + editor.getCursorPosition())\n        }\n      });\n\n      // Option + , = Jump to marker 2\n      editor.commands.addCommand({\n        name: 'jumpToMarker2',\n        bindKey: { win: 'Alt-.', mac: 'Option-.' },\n        exec: (editor) => {\n          const position = markers.current['marker2'];\n          if (position) {\n            editor.moveCursorToPosition(position);\n            console.log(\"going to m2 at : \" + position)\n          }\n        }\n      });\n\n      // Command + 1: Move to start\n      editor.commands.addCommand({\n        name: 'moveToStart',\n        bindKey: { win: 'Ctrl-1', mac: 'Option-1' },\n        exec: (editor) => {\n          editor.gotoLine(1, 0, false);\n        }\n      });\n\n      // Command + 2: Move to middle\n      editor.commands.addCommand({\n        name: 'moveToMiddle',\n        bindKey: { win: 'Ctrl-2', mac: 'Option-2' },\n        exec: (editor) => {\n          const middleLine = Math.floor(editor.session.getLength() / 2);\n          editor.gotoLine(middleLine, 0, false);\n        }\n      });\n\n      // Command + 3: Move to end\n      editor.commands.addCommand({\n        name: 'moveToEnd',\n        bindKey: { win: 'Ctrl-3', mac: 'Option-3' },\n        exec: (editor) => {\n          const lastLine = editor.session.getLength();\n          editor.gotoLine(lastLine, 0, false);\n        }\n      });\n\n      // Add command to capture Ctrl+G\n      editor.commands.addCommand({\n        name: 'readCurrentLine',\n        bindKey: { win: 'Ctrl-G', mac: 'Ctrl-G' },\n        exec: (editor) => {\n          console.log(\"speaking current line\")\n          const cursorPosition = editor.getCursorPosition();\n          const currentLine = editor.session.getDocument().getLine(cursorPosition.row);\n          speakText(currentLine); // Read out the current line\n        }\n      });\n\n      // Command to read out the current function name\n      editor.commands.addCommand({\n        name: 'readCurrentFunctionName',\n        bindKey: { win: 'Ctrl-V', mac: 'Ctrl-V' },\n        exec: (editor) => {\n          console.log(\"speaking current function\")\n          const cursorPosition = editor.getCursorPosition();\n          const codeLines = editor.session.getDocument().getAllLines();\n\n          // Simplified regex to match function declarations\n          const functionRegex = /function\\s+([a-zA-Z0-9_]+)\\s*\\(/;\n          let currentFunctionName = '';\n\n          // Loop through the lines up to the cursor's current line\n          for (let i = 0; i <= cursorPosition.row; i++) {\n            const match = functionRegex.exec(codeLines[i]);\n            if (match) {\n              currentFunctionName = match[1]; // Capture the function name\n            }\n          }\n\n          if (currentFunctionName) {\n            const speech = new SpeechSynthesisUtterance(`You are in the function ${currentFunctionName}`);\n            window.speechSynthesis.speak(speech);\n          } else {\n            const speech = new SpeechSynthesisUtterance(\"You are not inside a function\");\n            window.speechSynthesis.speak(speech);\n          }\n        }\n      });\n\n\n\n      // Function to toggle character reading\n      const toggleCharacterReading = () => {\n        setIsReadingCharacters(!isReadingCharacters);\n      };\n\n      // Command to toggle character reading\n      editor.commands.addCommand({\n        name: 'toggleCharacterReading',\n        bindKey: { win: 'Ctrl-Shift-S', mac: 'Ctrl-Shift-S' },\n        exec: toggleCharacterReading\n      });\n\n      // Add command to execute code with a keyboard shortcut, e.g., Ctrl+Enter\n      editor.commands.addCommand({\n        name: 'executeCode',\n        bindKey: { win: 'Ctrl-Enter', mac: 'Ctrl-Enter' },\n        exec: () => onExecuteCode(),\n      });\n\n\n\n\n\n      const handleChange = (e) => {\n        if (isReadingCharacters && e.action === 'insert' && e.lines.length === 1 && e.lines[0].length === 1) {\n          speakCharacter(e.lines[0]);\n        }\n      };\n\n      // Function to speak a character\n      const speakCharacter = (char) => {\n        const speech = new SpeechSynthesisUtterance(char);\n        window.speechSynthesis.speak(speech);\n      };\n\n      // Add the event listener\n      editor.getSession().on('change', handleChange);\n\n      // Function to get indentation level of a line\n      const getIndentationLevel = (line) => {\n        const match = line.match(/^\\s*/);\n        return match ? match[0].length : 0;\n      };\n\n      let previousLineIndentation = 0;\n\n      // Event listener for cursor position change\n      editor.getSession().selection.on('changeCursor', () => {\n        const cursorPosition = editor.getCursorPosition();\n        const currentLine = editor.session.getLine(cursorPosition.row);\n        const currentLineIndentation = getIndentationLevel(currentLine);\n\n        if (currentLineIndentation > previousLineIndentation) {\n          // Indentation increased, tap fourth finger\n          controlMotor('fourth', 'tap');\n        } else if (currentLineIndentation < previousLineIndentation && cursorPosition.row !== 0) {\n          // Indentation decreased, tap right index finger\n          controlMotor('index', 'tap');\n        }\n\n        previousLineIndentation = currentLineIndentation;\n      });\n\n      // Cleanup function to remove the event listener\n      return () => {\n        editor.getSession().off('change', handleChange);\n      };\n\n    }\n  }, [focused, granularity, setGranularity, isReadingCharacters, onExecuteCode]);\n\n\n  function handleCodeChange(newCode) {\n    setCode(newCode); // Updates the state with the new code\n  }\n\n  function moveToLine(lineNumber) {\n    if (aceEditorRef.current) {\n      aceEditorRef.current.editor.gotoLine(lineNumber, 0, true);\n    }\n  }\n\n\n\n\n  return (\n    <div style={{ flex: 2 }}>\n      <AceEditor\n        ref={aceEditorRef}\n        mode=\"javascript\"\n        theme=\"monokai\"\n        name=\"UNIQUE_ID_OF_DIV\"\n        value={code} // Ensure the editor displays the current state\n        onChange={handleCodeChange} // Set up the onChange handler\n        editorProps={{ $blockScrolling: true }}\n        style={{ width: '100%', height: '100%' }}\n      />\n    </div>\n  );\n}\n\nexport default CodeEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}